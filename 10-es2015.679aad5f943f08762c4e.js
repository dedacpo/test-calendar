(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{eedm:function(t,e,n){"use strict";n.r(e),n.d(e,"RemindersModule",(function(){return O}));var i=n("ofXK"),o=n("tyNb"),r=n("0IaG"),c=n("fXoL");let a=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(r.g),c.Pb(r.a))},t.\u0275cmp=c.Jb({type:t,selectors:[["app-dialog"]],decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"innerHtml"],["mat-dialog-actions",""],["mat-button","",1,"dialogCancelar",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",1,"dialogConfirmar",3,"mat-dialog-close"]],template:function(t,e){1&t&&(c.Ub(0,"h1",0),c.Dc(1),c.Tb(),c.Ub(2,"div",1),c.Qb(3,"p",2),c.Tb(),c.Ub(4,"div",3),c.Ub(5,"button",4),c.Dc(6,"no"),c.Tb(),c.Ub(7,"button",5),c.Dc(8,"yes"),c.Tb(),c.Tb()),2&t&&(c.Bb(1),c.Ec(e.data.title),c.Bb(2),c.kc("innerHtml",e.data.content,c.vc),c.Bb(2),c.kc("mat-dialog-close",!1),c.Bb(2),c.kc("mat-dialog-close",!0))},directives:[r.h,r.e,r.c,r.d],styles:["[_nghost-%COMP%]     .mat-dialog-actions{justify-content:space-around;margin-bottom:1px}[_nghost-%COMP%]     .mat-dialog-actions button{width:80px}[_nghost-%COMP%]     .mat-dialog-actions .dialogCancelar{background-color:#d9d7d7}"]}),t})();var s=n("eLQU"),b=n("xpoC"),d=n("uNy1"),l=n("xG9w"),m=n("rhAV"),h=n("l7P3"),p=n("6XKl");let g=(()=>{class t{constructor(){this.onLoadElement=new c.n}ngOnInit(){setTimeout(()=>this.onLoadElement.emit(),10)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Kb({type:t,selectors:[["","onLoadElement",""]],inputs:{isLast:"isLast"},outputs:{onLoadElement:"onLoadElement"}}),t})();function u(t,e){1&t&&(c.Ub(0,"h3"),c.Dc(1,"There is no reminder for the selected date"),c.Tb())}function f(t,e){if(1&t&&(c.Ub(0,"div",20),c.Ub(1,"b"),c.Dc(2,"Weather information for the city"),c.Tb(),c.Qb(3,"br"),c.Qb(4,"img",21),c.Ub(5,"p"),c.Dc(6),c.Tb(),c.Tb()),2&t){const t=c.fc().$implicit;c.Bb(4),c.mc("src","http://openweathermap.org/img/wn/",t.weather.weatherIcon,"@2x.png",c.wc),c.Bb(2),c.Gc("",t.weather.weatherMain," (",t.weather.weatherDescription,")")}}function T(t,e){1&t&&(c.Ub(0,"div",20),c.Ub(1,"b"),c.Ub(2,"i"),c.Dc(3,"No weather information was provided from API for the selected date (only information for 7 days)"),c.Tb(),c.Tb(),c.Qb(4,"br"),c.Tb())}const U=function(t){return["/reminders-edit",t]},w=function(t){return{"background-color":t}};function v(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",7),c.Ub(1,"div",8),c.Ub(2,"i",9),c.cc("click",(function(){c.uc(t);const n=e.$implicit,i=e.index;return c.fc().deleteReminder(n,i)})),c.Tb(),c.Ub(3,"a",2),c.Qb(4,"i",10),c.Tb(),c.Tb(),c.Ub(5,"div",11),c.Ub(6,"div",12),c.Ub(7,"div",13),c.Ub(8,"div",14),c.Ub(9,"b"),c.Dc(10,"Title"),c.Tb(),c.Tb(),c.Ub(11,"div",15),c.Dc(12),c.Tb(),c.Tb(),c.Ub(13,"div",13),c.Ub(14,"div",14),c.Ub(15,"b"),c.Dc(16,"City"),c.Tb(),c.Tb(),c.Ub(17,"div",15),c.Dc(18),c.Tb(),c.Tb(),c.Ub(19,"div",13),c.Ub(20,"div",14),c.Ub(21,"b"),c.Dc(22,"Start time"),c.Tb(),c.Tb(),c.Ub(23,"div",15),c.Dc(24),c.Tb(),c.Tb(),c.Ub(25,"div",13),c.Ub(26,"div",14),c.Ub(27,"b"),c.Dc(28,"End time"),c.Tb(),c.Tb(),c.Ub(29,"div",15),c.Dc(30),c.Tb(),c.Tb(),c.Ub(31,"div",13),c.Ub(32,"div",14),c.Ub(33,"b"),c.Dc(34,"Reminder color"),c.Tb(),c.Tb(),c.Ub(35,"div",16),c.Qb(36,"span",17),c.Dc(37),c.Tb(),c.Tb(),c.Tb(),c.Ub(38,"div",18),c.cc("onLoadElement",(function(){c.uc(t);const n=e.$implicit,i=e.index;return c.fc().getWeather(n,i)})),c.Cc(39,f,7,3,"div",19),c.Cc(40,T,5,0,"div",19),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit;c.Bb(3),c.kc("routerLink",c.oc(9,U,t.id)),c.Bb(9),c.Fc(" ",t.title," "),c.Bb(6),c.Fc(" ",t.city," "),c.Bb(6),c.Fc(" ",t.startTime," "),c.Bb(6),c.Fc(" ",t.endTime," "),c.Bb(6),c.kc("ngStyle",c.oc(11,w,t.reminderColor)),c.Bb(1),c.Fc("",t.reminderColor," "),c.Bb(2),c.kc("ngIf",t.weather),c.Bb(1),c.kc("ngIf",null==t.weather)}}const y=function(t){return["/reminders-new",t]},D=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o){this.helper=t,this.route=e,this.store=n,this.apiWeather=i,this.dialog=o,this.reminders=[],this.weekDaysDict=b.a,this.monthsDict=s.a}ngOnInit(){let t=this.route.snapshot.params.date.split("-");this.selectedDate={year:t[0],month:t[1],day:t[2],weekDay:new Date(this.route.snapshot.params.date+"T00:00:00").getDay()},this.store.dispatch(Object(d.b)({selectedYearAndMonth:{year:this.selectedDate.year,month:Number(this.selectedDate.month)-1}})),this.storeSubscription=this.store.select("reminders").subscribe(t=>{this.allReminders=JSON.parse(JSON.stringify(t)),this.reminders=l.c(this.allReminders,{date:this.route.snapshot.params.date})}),this.storeSubscription.unsubscribe()}getWeather(t,e){this.apiWeather.getWeatherFromLatLon(t.cityLat.toString(),t.cityLong.toString()).subscribe(n=>{this.reminders[e].weather=l.b(n,{date:t.date})})}deleteReminder(t,e){this.dialog.open(a,{data:{title:"Delete reminder",content:`Are you sure you want to delete the reminder <b>"${t.title}"</b>?`}}).afterClosed().subscribe(n=>{this.getPerformResult(t,e,n)})}getPerformResult(t,e,n){if(n){let n=JSON.parse(JSON.stringify(this.allReminders)),i=JSON.parse(JSON.stringify(this.reminders)),o=l.a(n,{id:t.id});n.splice(o,1),i.splice(e,1),this.reminders=i,this.allReminders=n,this.store.dispatch(Object(d.a)({reminders:n}))}}get monthAsNumber(){return Number(this.selectedDate.month)-1}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(m.a),c.Pb(o.a),c.Pb(h.a),c.Pb(p.a),c.Pb(r.b))},t.\u0275cmp=c.Jb({type:t,selectors:[["app-reminders"]],decls:10,vars:9,consts:[[1,"main-content"],[1,"container"],[3,"routerLink"],[1,"fas","fa-plus"],[4,"ngIf"],["id","reminderContainer"],["class","reminder-item card position-relative",4,"ngFor","ngForOf"],[1,"reminder-item","card","position-relative"],[1,"options","position-absolute"],[1,"fas","fa-trash-alt",3,"click"],[1,"fas","fa-pencil-alt"],[1,"row","margin-top-20px"],[1,"col-lg-8","col-md-6","col-sm-12","col-12"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","field-name"],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","reminder-color"],[3,"ngStyle"],[1,"col-lg-4","col-md-6","col-sm-12","col-12","weather-info","display-flex",3,"onLoadElement"],["class","margin-auto",4,"ngIf"],[1,"margin-auto"],[3,"src"]],template:function(t,e){1&t&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"h1"),c.Dc(3),c.Ub(4,"a",2),c.Ub(5,"button"),c.Qb(6,"i",3),c.Tb(),c.Tb(),c.Tb(),c.Cc(7,u,2,0,"h3",4),c.Ub(8,"div",5),c.Cc(9,v,41,13,"div",6),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Bb(3),c.Hc("Reminders for ",e.weekDaysDict[e.selectedDate.weekDay],", ",e.selectedDate.day," ",e.monthsDict[e.monthAsNumber]," ",e.selectedDate.year," "),c.Bb(1),c.kc("routerLink",c.oc(7,y,e.route.snapshot.params.date)),c.Bb(3),c.kc("ngIf",0==e.reminders.length),c.Bb(2),c.kc("ngForOf",e.reminders))},directives:[o.d,i.l,i.k,i.m,g],styles:[".row[_ngcontent-%COMP%]:not(:first-of-type){margin-top:10px}.field-name[_ngcontent-%COMP%]{text-align:right}.weather-info[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]{padding:15px;margin-top:30px}.reminder-color[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px 10px;border:1px solid rgba(0,0,0,.125);margin-right:5px}.options[_ngcontent-%COMP%]{top:10px;right:15px}.options[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:35px;cursor:pointer}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none}@media screen and (max-width:762px){.field-name[_ngcontent-%COMP%]{text-align:left}.weather-info[_ngcontent-%COMP%]{margin-top:30px}}"]}),t})()}];let C=(()=>{class t{}return t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({factory:function(e){return new(e||t)},imports:[[o.e.forChild(D)],o.e]}),t})(),O=(()=>{class t{}return t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({factory:function(e){return new(e||t)},imports:[[i.c,C]]}),t})()}}]);