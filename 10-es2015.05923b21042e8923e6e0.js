(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{eedm:function(e,t,n){"use strict";n.r(t),n.d(t,"RemindersModule",(function(){return P}));var i=n("ofXK"),o=n("tyNb"),r=n("0IaG"),c=n("fXoL");let a=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}onNoClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(r.g),c.Pb(r.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-dialog"]],decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"innerHtml"],["mat-dialog-actions",""],["mat-button","",1,"dialogCancelar",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",1,"dialogConfirmar",3,"mat-dialog-close"]],template:function(e,t){1&e&&(c.Ub(0,"h1",0),c.Dc(1),c.Tb(),c.Ub(2,"div",1),c.Qb(3,"p",2),c.Tb(),c.Ub(4,"div",3),c.Ub(5,"button",4),c.Dc(6,"no"),c.Tb(),c.Ub(7,"button",5),c.Dc(8,"yes"),c.Tb(),c.Tb()),2&e&&(c.Bb(1),c.Ec(t.data.title),c.Bb(2),c.kc("innerHtml",t.data.content,c.vc),c.Bb(2),c.kc("mat-dialog-close",!1),c.Bb(2),c.kc("mat-dialog-close",!0))},directives:[r.h,r.e,r.c,r.d],styles:["[_nghost-%COMP%]     .mat-dialog-actions{justify-content:space-around;margin-bottom:1px}[_nghost-%COMP%]     .mat-dialog-actions button{width:80px}[_nghost-%COMP%]     .mat-dialog-actions .dialogCancelar{background-color:#d9d7d7}"]}),e})();var s=n("eLQU"),l=n("xpoC"),d=n("uNy1"),b=n("xG9w"),m=n("rhAV"),h=n("l7P3"),g=n("6XKl");let u=(()=>{class e{constructor(){this.onLoadElement=new c.n}ngOnInit(){setTimeout(()=>this.onLoadElement.emit(),10)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.Kb({type:e,selectors:[["","onLoadElement",""]],inputs:{isLast:"isLast"},outputs:{onLoadElement:"onLoadElement"}}),e})();function p(e,t){1&e&&(c.Ub(0,"h3"),c.Dc(1,"There is no reminder for the selected date"),c.Tb())}function f(e,t){if(1&e){const e=c.Vb();c.Ub(0,"a",9),c.cc("click",(function(){return c.uc(e),c.fc().deleteAllReminders()})),c.Qb(1,"i",10),c.Dc(2,"delete all reminders"),c.Tb()}}function T(e,t){if(1&e&&(c.Ub(0,"div",24),c.Ub(1,"b"),c.Dc(2,"Weather information for the city"),c.Tb(),c.Qb(3,"br"),c.Qb(4,"img",25),c.Ub(5,"p"),c.Dc(6),c.Tb(),c.Tb()),2&e){const e=c.fc().$implicit;c.Bb(4),c.mc("src","http://openweathermap.org/img/wn/",e.weather.weatherIcon,"@2x.png",c.wc),c.Bb(2),c.Gc("",e.weather.weatherMain," (",e.weather.weatherDescription,")")}}function U(e,t){1&e&&(c.Ub(0,"div",24),c.Ub(1,"b"),c.Ub(2,"i"),c.Dc(3,"No weather information was provided from API for the selected date (only information for 7 days)"),c.Tb(),c.Tb(),c.Qb(4,"br"),c.Tb())}const w=function(e){return["/reminders-edit",e]},y=function(e){return{"background-color":e}};function D(e,t){if(1&e){const e=c.Vb();c.Ub(0,"div",11),c.Ub(1,"div",12),c.Ub(2,"i",13),c.cc("click",(function(){c.uc(e);const n=t.$implicit,i=t.index;return c.fc().deleteReminder(n,i)})),c.Tb(),c.Ub(3,"a",2),c.Qb(4,"i",14),c.Tb(),c.Tb(),c.Ub(5,"div",15),c.Ub(6,"div",16),c.Ub(7,"div",17),c.Ub(8,"div",18),c.Ub(9,"b"),c.Dc(10,"Title"),c.Tb(),c.Tb(),c.Ub(11,"div",19),c.Dc(12),c.Tb(),c.Tb(),c.Ub(13,"div",17),c.Ub(14,"div",18),c.Ub(15,"b"),c.Dc(16,"City"),c.Tb(),c.Tb(),c.Ub(17,"div",19),c.Dc(18),c.Tb(),c.Tb(),c.Ub(19,"div",17),c.Ub(20,"div",18),c.Ub(21,"b"),c.Dc(22,"Start time"),c.Tb(),c.Tb(),c.Ub(23,"div",19),c.Dc(24),c.Tb(),c.Tb(),c.Ub(25,"div",17),c.Ub(26,"div",18),c.Ub(27,"b"),c.Dc(28,"End time"),c.Tb(),c.Tb(),c.Ub(29,"div",19),c.Dc(30),c.Tb(),c.Tb(),c.Ub(31,"div",17),c.Ub(32,"div",18),c.Ub(33,"b"),c.Dc(34,"Reminder color"),c.Tb(),c.Tb(),c.Ub(35,"div",20),c.Qb(36,"span",21),c.Dc(37),c.Tb(),c.Tb(),c.Tb(),c.Ub(38,"div",22),c.cc("onLoadElement",(function(){c.uc(e);const n=t.$implicit,i=t.index;return c.fc().getWeather(n,i)})),c.Cc(39,T,7,3,"div",23),c.Cc(40,U,5,0,"div",23),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit;c.Bb(3),c.kc("routerLink",c.oc(9,w,e.id)),c.Bb(9),c.Fc(" ",e.title," "),c.Bb(6),c.Fc(" ",e.city," "),c.Bb(6),c.Fc(" ",e.startTime," "),c.Bb(6),c.Fc(" ",e.endTime," "),c.Bb(6),c.kc("ngStyle",c.oc(11,y,e.reminderColor)),c.Bb(1),c.Fc("",e.reminderColor," "),c.Bb(2),c.kc("ngIf",e.weather),c.Bb(1),c.kc("ngIf",null==e.weather)}}const v=function(e){return["/reminders-new",e]},C=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.helper=e,this.route=t,this.store=n,this.apiWeather=i,this.dialog=o,this.reminders=[],this.weekDaysDict=l.a,this.monthsDict=s.a}ngOnInit(){let e=this.route.snapshot.params.date.split("-");this.selectedDate={year:e[0],month:e[1],day:e[2],weekDay:new Date(this.route.snapshot.params.date+"T00:00:00").getDay()},this.store.dispatch(Object(d.b)({selectedYearAndMonth:{year:this.selectedDate.year,month:Number(this.selectedDate.month)-1}})),this.storeSubscription=this.store.select("reminders").subscribe(e=>{this.allReminders=JSON.parse(JSON.stringify(e)),this.reminders=b.d(this.allReminders,{date:this.route.snapshot.params.date})}),this.storeSubscription.unsubscribe()}getWeather(e,t){this.apiWeather.getWeatherFromLatLon(e.cityLat.toString(),e.cityLong.toString()).subscribe(n=>{this.reminders[t].weather=b.c(n,{date:e.date})})}deleteReminder(e,t){this.dialog.open(a,{data:{title:"Delete reminder",content:`Are you sure you want to delete the reminder <b>"${e.title}"</b>?`}}).afterClosed().subscribe(n=>{this.getPerformResult(e,t,n)})}deleteAllReminders(){this.dialog.open(a,{data:{title:"Delete all reminders",content:"Are you sure you want to delete ALL the reminders for this date?"}}).afterClosed().subscribe(e=>{this.getPerformResultDeleteAll(e)})}getPerformResult(e,t,n){if(n){let n=JSON.parse(JSON.stringify(this.allReminders)),i=JSON.parse(JSON.stringify(this.reminders)),o=b.b(n,{id:e.id});n.splice(o,1),i.splice(t,1),this.reminders=i,this.allReminders=n,this.store.dispatch(Object(d.a)({reminders:n}))}}getPerformResultDeleteAll(e){if(e){let e=[];this.allReminders.forEach((t,n)=>{null==b.a(this.reminders,{id:t.id})&&e.push(t)}),this.reminders=[],this.allReminders=e,this.store.dispatch(Object(d.a)({reminders:e}))}}get monthAsNumber(){return Number(this.selectedDate.month)-1}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(m.a),c.Pb(o.a),c.Pb(h.a),c.Pb(g.a),c.Pb(r.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-reminders"]],decls:12,vars:10,consts:[[1,"main-content"],[1,"container"],[3,"routerLink"],[1,"fas","fa-plus"],[4,"ngIf"],[1,"detelete-all"],[3,"click",4,"ngIf"],["id","reminderContainer"],["class","reminder-item card position-relative",4,"ngFor","ngForOf"],[3,"click"],[1,"fas","fa-exclamation-triangle"],[1,"reminder-item","card","position-relative"],[1,"options","position-absolute"],[1,"fas","fa-trash-alt",3,"click"],[1,"fas","fa-pencil-alt"],[1,"row","margin-top-20px"],[1,"col-lg-8","col-md-6","col-sm-12","col-12"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","field-name"],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","reminder-color"],[3,"ngStyle"],[1,"col-lg-4","col-md-6","col-sm-12","col-12","weather-info","display-flex",3,"onLoadElement"],["class","margin-auto",4,"ngIf"],[1,"margin-auto"],[3,"src"]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"h1"),c.Dc(3),c.Ub(4,"a",2),c.Ub(5,"button"),c.Qb(6,"i",3),c.Tb(),c.Tb(),c.Tb(),c.Cc(7,p,2,0,"h3",4),c.Ub(8,"p",5),c.Cc(9,f,3,0,"a",6),c.Tb(),c.Ub(10,"div",7),c.Cc(11,D,41,13,"div",8),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Bb(3),c.Hc("Reminders for ",t.weekDaysDict[t.selectedDate.weekDay],", ",t.selectedDate.day," ",t.monthsDict[t.monthAsNumber]," ",t.selectedDate.year," "),c.Bb(1),c.kc("routerLink",c.oc(8,v,t.route.snapshot.params.date)),c.Bb(3),c.kc("ngIf",0==t.reminders.length),c.Bb(2),c.kc("ngIf",t.reminders.length>0),c.Bb(2),c.kc("ngForOf",t.reminders))},directives:[o.d,i.l,i.k,i.m,u],styles:[".row[_ngcontent-%COMP%]:not(:first-of-type){margin-top:10px}.field-name[_ngcontent-%COMP%]{text-align:right}.weather-info[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]{padding:15px;margin-top:30px}.reminder-color[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px 10px;border:1px solid rgba(0,0,0,.125);margin-right:5px}.options[_ngcontent-%COMP%]{top:10px;right:15px}.options[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:35px;cursor:pointer}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none}.detelete-all[_ngcontent-%COMP%]{text-align:right;font-weight:700}.detelete-all[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width:762px){.field-name[_ngcontent-%COMP%]{text-align:left}.weather-info[_ngcontent-%COMP%]{margin-top:30px}}"]}),e})()}];let O=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(t){return new(t||e)},imports:[[o.e.forChild(C)],o.e]}),e})(),P=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(t){return new(t||e)},imports:[[i.c,O]]}),e})()}}]);