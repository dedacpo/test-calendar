function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{eedm:function(e,t,n){"use strict";n.r(t),n.d(t,"RemindersModule",(function(){return B}));var i,r,o=n("ofXK"),a=n("tyNb"),c=n("0IaG"),s=n("fXoL"),l=((i=function(){function e(t,n){_classCallCheck(this,e),this.dialogRef=t,this.data=n}return _createClass(e,[{key:"onNoClick",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||i)(s.Pb(c.g),s.Pb(c.a))},i.\u0275cmp=s.Jb({type:i,selectors:[["app-dialog"]],decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"innerHtml"],["mat-dialog-actions",""],["mat-button","",1,"dialogCancelar",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",1,"dialogConfirmar",3,"mat-dialog-close"]],template:function(e,t){1&e&&(s.Ub(0,"h1",0),s.Dc(1),s.Tb(),s.Ub(2,"div",1),s.Qb(3,"p",2),s.Tb(),s.Ub(4,"div",3),s.Ub(5,"button",4),s.Dc(6,"no"),s.Tb(),s.Ub(7,"button",5),s.Dc(8,"yes"),s.Tb(),s.Tb()),2&e&&(s.Bb(1),s.Ec(t.data.title),s.Bb(2),s.kc("innerHtml",t.data.content,s.vc),s.Bb(2),s.kc("mat-dialog-close",!1),s.Bb(2),s.kc("mat-dialog-close",!0))},directives:[c.h,c.e,c.c,c.d],styles:["[_nghost-%COMP%]     .mat-dialog-actions{justify-content:space-around;margin-bottom:1px}[_nghost-%COMP%]     .mat-dialog-actions button{width:80px}[_nghost-%COMP%]     .mat-dialog-actions .dialogCancelar{background-color:#d9d7d7}"]}),i),d=n("eLQU"),b=n("xpoC"),m=n("uNy1"),u=n("xG9w"),f=n("rhAV"),h=n("l7P3"),p=n("6XKl"),g=((r=function(){function e(){_classCallCheck(this,e),this.onLoadElement=new s.n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout((function(){return e.onLoadElement.emit()}),10)}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275dir=s.Kb({type:r,selectors:[["","onLoadElement",""]],inputs:{isLast:"isLast"},outputs:{onLoadElement:"onLoadElement"}}),r);function v(e,t){1&e&&(s.Ub(0,"h3"),s.Dc(1,"There is no reminder for the selected date"),s.Tb())}function y(e,t){if(1&e){var n=s.Vb();s.Ub(0,"a",9),s.cc("click",(function(){return s.uc(n),s.fc().deleteAllReminders()})),s.Qb(1,"i",10),s.Dc(2,"delete all reminders"),s.Tb()}}function T(e,t){if(1&e&&(s.Ub(0,"div",24),s.Ub(1,"b"),s.Dc(2,"Weather information for the city"),s.Tb(),s.Qb(3,"br"),s.Qb(4,"img",25),s.Ub(5,"p"),s.Dc(6),s.Tb(),s.Tb()),2&e){var n=s.fc().$implicit;s.Bb(4),s.mc("src","http://openweathermap.org/img/wn/",n.weather.weatherIcon,"@2x.png",s.wc),s.Bb(2),s.Gc("",n.weather.weatherMain," (",n.weather.weatherDescription,")")}}function C(e,t){1&e&&(s.Ub(0,"div",24),s.Ub(1,"b"),s.Ub(2,"i"),s.Dc(3,"No weather information was provided from API for the selected date (only information for 7 days)"),s.Tb(),s.Tb(),s.Qb(4,"br"),s.Tb())}var U=function(e){return["/reminders-edit",e]},w=function(e){return{"background-color":e}};function k(e,t){if(1&e){var n=s.Vb();s.Ub(0,"div",11),s.Ub(1,"div",12),s.Ub(2,"i",13),s.cc("click",(function(){s.uc(n);var e=t.$implicit,i=t.index;return s.fc().deleteReminder(e,i)})),s.Tb(),s.Ub(3,"a",2),s.Qb(4,"i",14),s.Tb(),s.Tb(),s.Ub(5,"div",15),s.Ub(6,"div",16),s.Ub(7,"div",17),s.Ub(8,"div",18),s.Ub(9,"b"),s.Dc(10,"Title"),s.Tb(),s.Tb(),s.Ub(11,"div",19),s.Dc(12),s.Tb(),s.Tb(),s.Ub(13,"div",17),s.Ub(14,"div",18),s.Ub(15,"b"),s.Dc(16,"City"),s.Tb(),s.Tb(),s.Ub(17,"div",19),s.Dc(18),s.Tb(),s.Tb(),s.Ub(19,"div",17),s.Ub(20,"div",18),s.Ub(21,"b"),s.Dc(22,"Start time"),s.Tb(),s.Tb(),s.Ub(23,"div",19),s.Dc(24),s.Tb(),s.Tb(),s.Ub(25,"div",17),s.Ub(26,"div",18),s.Ub(27,"b"),s.Dc(28,"End time"),s.Tb(),s.Tb(),s.Ub(29,"div",19),s.Dc(30),s.Tb(),s.Tb(),s.Ub(31,"div",17),s.Ub(32,"div",18),s.Ub(33,"b"),s.Dc(34,"Reminder color"),s.Tb(),s.Tb(),s.Ub(35,"div",20),s.Qb(36,"span",21),s.Dc(37),s.Tb(),s.Tb(),s.Tb(),s.Ub(38,"div",22),s.cc("onLoadElement",(function(){s.uc(n);var e=t.$implicit,i=t.index;return s.fc().getWeather(e,i)})),s.Cc(39,T,7,3,"div",23),s.Cc(40,C,5,0,"div",23),s.Tb(),s.Tb(),s.Tb()}if(2&e){var i=t.$implicit;s.Bb(3),s.kc("routerLink",s.oc(9,U,i.id)),s.Bb(9),s.Fc(" ",i.title," "),s.Bb(6),s.Fc(" ",i.city," "),s.Bb(6),s.Fc(" ",i.startTime," "),s.Bb(6),s.Fc(" ",i.endTime," "),s.Bb(6),s.kc("ngStyle",s.oc(11,w,i.reminderColor)),s.Bb(1),s.Fc("",i.reminderColor," "),s.Bb(2),s.kc("ngIf",i.weather),s.Bb(1),s.kc("ngIf",null==i.weather)}}var D,P,O,_=function(e){return["/reminders-new",e]},x=[{path:"",component:(D=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.helper=t,this.route=n,this.store=i,this.apiWeather=r,this.dialog=o,this.reminders=[],this.weekDaysDict=b.a,this.monthsDict=d.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.params.date.split("-");this.selectedDate={year:t[0],month:t[1],day:t[2],weekDay:new Date(this.route.snapshot.params.date+"T00:00:00").getDay()},this.store.dispatch(Object(m.b)({selectedYearAndMonth:{year:this.selectedDate.year,month:Number(this.selectedDate.month)-1}})),this.storeSubscription=this.store.select("reminders").subscribe((function(t){e.allReminders=JSON.parse(JSON.stringify(t)),e.reminders=u.d(e.allReminders,{date:e.route.snapshot.params.date})})),this.storeSubscription.unsubscribe()}},{key:"getWeather",value:function(e,t){var n=this;this.apiWeather.getWeatherFromLatLon(e.cityLat.toString(),e.cityLong.toString()).subscribe((function(i){n.reminders[t].weather=u.c(i,{date:e.date})}))}},{key:"deleteReminder",value:function(e,t){var n=this;this.dialog.open(l,{data:{title:"Delete reminder",content:'Are you sure you want to delete the reminder <b>"'.concat(e.title,'"</b>?')}}).afterClosed().subscribe((function(i){n.getPerformResult(e,t,i)}))}},{key:"deleteAllReminders",value:function(){var e=this;this.dialog.open(l,{data:{title:"Delete all reminders",content:"Are you sure you want to delete ALL the reminders for this date?"}}).afterClosed().subscribe((function(t){e.getPerformResultDeleteAll(t)}))}},{key:"getPerformResult",value:function(e,t,n){if(n){var i=JSON.parse(JSON.stringify(this.allReminders)),r=JSON.parse(JSON.stringify(this.reminders)),o=u.b(i,{id:e.id});i.splice(o,1),r.splice(t,1),this.reminders=r,this.allReminders=i,this.store.dispatch(Object(m.a)({reminders:i}))}}},{key:"getPerformResultDeleteAll",value:function(e){var t=this;if(e){var n=[];this.allReminders.forEach((function(e,i){null==u.a(t.reminders,{id:e.id})&&n.push(e)})),this.reminders=[],this.allReminders=n,this.store.dispatch(Object(m.a)({reminders:n}))}}},{key:"monthAsNumber",get:function(){return Number(this.selectedDate.month)-1}}]),e}(),D.\u0275fac=function(e){return new(e||D)(s.Pb(f.a),s.Pb(a.a),s.Pb(h.a),s.Pb(p.a),s.Pb(c.b))},D.\u0275cmp=s.Jb({type:D,selectors:[["app-reminders"]],decls:12,vars:10,consts:[[1,"main-content"],[1,"container"],[3,"routerLink"],[1,"fas","fa-plus"],[4,"ngIf"],[1,"detelete-all"],[3,"click",4,"ngIf"],["id","reminderContainer"],["class","reminder-item card position-relative",4,"ngFor","ngForOf"],[3,"click"],[1,"fas","fa-exclamation-triangle"],[1,"reminder-item","card","position-relative"],[1,"options","position-absolute"],[1,"fas","fa-trash-alt",3,"click"],[1,"fas","fa-pencil-alt"],[1,"row","margin-top-20px"],[1,"col-lg-8","col-md-6","col-sm-12","col-12"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","field-name"],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","reminder-color"],[3,"ngStyle"],[1,"col-lg-4","col-md-6","col-sm-12","col-12","weather-info","display-flex",3,"onLoadElement"],["class","margin-auto",4,"ngIf"],[1,"margin-auto"],[3,"src"]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"h1"),s.Dc(3),s.Ub(4,"a",2),s.Ub(5,"button"),s.Qb(6,"i",3),s.Tb(),s.Tb(),s.Tb(),s.Cc(7,v,2,0,"h3",4),s.Ub(8,"p",5),s.Cc(9,y,3,0,"a",6),s.Tb(),s.Ub(10,"div",7),s.Cc(11,k,41,13,"div",8),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(3),s.Hc("Reminders for ",t.weekDaysDict[t.selectedDate.weekDay],", ",t.selectedDate.day," ",t.monthsDict[t.monthAsNumber]," ",t.selectedDate.year," "),s.Bb(1),s.kc("routerLink",s.oc(8,_,t.route.snapshot.params.date)),s.Bb(3),s.kc("ngIf",0==t.reminders.length),s.Bb(2),s.kc("ngIf",t.reminders.length>0),s.Bb(2),s.kc("ngForOf",t.reminders))},directives:[a.d,o.l,o.k,o.m,g],styles:[".row[_ngcontent-%COMP%]:not(:first-of-type){margin-top:10px}.field-name[_ngcontent-%COMP%]{text-align:right}.weather-info[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]{padding:15px;margin-top:30px}.reminder-color[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px 10px;border:1px solid rgba(0,0,0,.125);margin-right:5px}.options[_ngcontent-%COMP%]{top:10px;right:15px}.options[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:35px;cursor:pointer}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none}.detelete-all[_ngcontent-%COMP%]{text-align:right;font-weight:700}.detelete-all[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width:762px){.field-name[_ngcontent-%COMP%]{text-align:left}.weather-info[_ngcontent-%COMP%]{margin-top:30px}}"]}),D)}],M=((O=function e(){_classCallCheck(this,e)}).\u0275mod=s.Nb({type:O}),O.\u0275inj=s.Mb({factory:function(e){return new(e||O)},imports:[[a.e.forChild(x)],a.e]}),O),B=((P=function e(){_classCallCheck(this,e)}).\u0275mod=s.Nb({type:P}),P.\u0275inj=s.Mb({factory:function(e){return new(e||P)},imports:[[o.c,M]]}),P)}}]);